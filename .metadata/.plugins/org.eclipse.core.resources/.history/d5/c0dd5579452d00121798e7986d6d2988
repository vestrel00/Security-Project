package com.vestrel00.ssc.client.interf;

/**
 * Protocol that the client and server programs run.
 * 
 * @author Estrellado, Vandolf
 * 
 */
public interface SSCProtocol {

	/**
	 * Initialize the crypto that will be used.
	 */
	public void initCrypto(String secretKey, String keyCodeOK);

	/**
	 * Tells the protocol to keep handling requests by the client. If the client
	 * quits, this returns false, flagging the service to stop.
	 */
	public boolean work();

	/**
	 * This is where the magic of the protocol happens.<br>
	 * To be called inside the work() method.<br>
	 * Process the message received from the client.<br>
	 * The string may be a password, username, service request, or anything that
	 * this protocol can offer. This may end the service/connection if the
	 * client closes the program abruptly.<br>
	 * For this case, we receive E(m) and H(m).
	 * <ol>
	 * <li>decrypt E(m)</li>
	 * <li>hash m and check if it equals the received H(m)</li>
	 * <li>if it checks out, store the data in the buffer</li>
	 * </ol>
	 */
	public void performMagic();

	/**
	 * Calling work() after this method is called will have no effect();
	 */
	public void stopWorking();

}
